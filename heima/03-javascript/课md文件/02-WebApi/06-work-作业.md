# Web APIs 第六天作业安排

## 客观题

1. 下面关于正则表达式说法正确的是？(ABCD) 多选

   A.  正则表达式是是一种字符串匹配的模式（规则）

   B. 可以用于表单验证（匹配）

   C. 可以用于过滤敏感词（替换）

   D. 可以用于字符串中提取我们想要的部分（提取）

2. 下面声明正则表达式正确的是? (B)

   A.  const 变量名 = \表达式\

   B.  const 变量名 = /表达式/

   C.  const 变量名 =  表达式

   D.  const 变量名 =  '表达式'

3. 下面哪个方法可以用于检测正则表达式与指定的字符串是否匹配? (C)

   A.  text()

   B.  has()

   C.  test()

   D.  excel()

4. 下列关于正则中特殊字符描述正确的是（ABCD ）?  多选

   A： ^和$符号为定界符，用于表示匹配以什么开头或以什么结尾

   B： []表示范围，用于匹配多个选项中的任意1个

   C： \d和\D是字符类，是一种简写字符

   D： *、?、+是量词符，用于表示字符出现的次数

5. 下列选项能够将字符串str中的”java”、”Java”、”JAVA”替换为“前端”的是（BD）多选

A： 

~~~javascript
const str = 'javascript和JAVA是两个不同的语言，Javascript诞生于1995年'
const strend = str.replace(/java/i, '前端')
console.log(strend)
~~~

 B： 

~~~javascript
const str = 'javascript和JAVA是两个不同的语言，Javascript诞生于1995年'
const strend = str.replace(/java/gi, '前端')
console.log(strend)
~~~

 C： 

~~~javascript
const str = 'javascript和JAVA是两个不同的语言，Javascript诞生于1995年'
const strend = str.replace(/java|JAVA|Java/, '前端')
console.log(strend)
~~~

 D： 

~~~javascript
const str = 'javascript和JAVA是两个不同的语言，Javascript诞生于1995年'
const strend = str.replace(/java|JAVA|Java/g, '前端')
console.log(strend)
~~~

6. 关于正则表达式声明6位数字的邮编，以下代码正确的是？(C)

    A：  const reg = /\d6/

    B： const reg = \d{6}\

    C： const reg = /\d{6}/

    D： const reg =  /d6/

7. 下列关于事件说法正确的是？ (ABCD) 多选

   A. change 事件是表单里面的值被修改并且失去焦点后触发

   B. input 事件 是用户输入，当表单里面的值发生改变的时候触发

   C. blur 事件是当表单失去焦点的时候触发

   D. 可以把change事件看做是 input + blur的结合体

8. 下列关于类操作说法错误是？ (C) 

   A.  元素.classList.add()  是添加类

   B. 元素.classList.remove()  是删除类

   C. 元素.classList.toggleClass()  是切换类

   D. 元素.classList.contains()  是判断是否包含类

## 主观题

明天开始实战：

今天晚上先把实战-产品详情页中除了放大镜效果之外的效果做完。

## 顶部导航模块

<img src="./06-work-assets/444.gif">

需求：

1. 顶部导航开始不显示
2. 等页面滑到主导航栏，这个**新顶部导航栏滑动下拉显示**，并且改为固定定位
3. 等页面滑到上面，新顶部导航栏隐藏

### 流程
获取粘性nav(sticky) 头部header

window的卷去事件

获取卷去的垂直长度

如果卷去的垂直长度大于 header到浏览器顶部的距离 也就是超过了header的高度

那么给粘性导航添加show类 反之移除

## 点击颜色模块

 <img src="./06-work-assets/color.gif">
点击可以添加边框效果

### 流程
立即执行函数

获取color盒子

color盒子点击事件 如果点图片

获取现有的active

有则清active 没有则不清

给当前点击的图片 添加active类

## 点击尺寸模块

 <img src="./06-work-assets/size.gif">

点击可以选择想要的尺寸

### 流程
立即执行函数

获取英寸父级盒子

事件委托 如果点击的是span

获取size子级元素下的active

有删除 没有不清

当前点击添加active


## 点击梳理模块

 <img src="./06-work-assets/num.gif">

点击加减可以修改商品数量，如果购买数量是1，则鼠标提示禁用提示

### 流程
获取输入框 减号 加号

加号点击事件

点击后 减号解禁 同时 输入框的值增加

减号点击事件

如果输入框的值 等于 1

禁用减号按钮

否则正常减

## tab栏切换模块

<img src="./06-work-assets/777.gif">

### 流程
获取商品评价 和 商品详情父盒子

父盒子点击事件 如果点击了a标签 (事件委托)

清除父盒子中两个a的active状态

有清 没有不理

当前点击添加active状态


获取点击时的id

取反操作(3取2 2取3) 并将结果赋值给a

此时我们获得id和a 它们是相反的

获取cont盒子下 第2||3盒子 设置为显示

获取cont盒子下 第2||3盒子 设置为隐藏


## 返回顶部模块

 <img src="./06-work-assets/1675780029658.png">

页面滚动底部，可以出现一个侧边栏，点击返回顶部，可以返回顶部

### 流程
获取返回顶部按钮

改按钮的点击事件

点击后将 页面卷去的距离设置为0

## 小兔鲜案例

### index.js逻辑
主要关于 xtx_navs中两个li的状态变化

获取 请先登录 和 免费注册两个dom

创建一个渲染函数并调用

在本地存储中获取uname 

#### 如果有
替换第一个和第二个li的结构

#### 如果没有
替换第一个和第二个li的结构

点击第二个li 只有当这个li的状态是 '退出登录时' 生效

移除本地存储uname

渲染页面

### login.js逻辑
获取 用户登录 和 二维码登录的 父级盒子

获取下面的大盒子

父级盒子的点击事件 当点击的是a标签

下划线排他

console.log(tabNav.querySelector('.active')) 是可以获取它的儿子的active类的 然后删除

给当前点击的a 添加active类

大盒子排他

循环其余的大盒子(panes) 并全部清除

给当前点击的a 切换对应的大盒子(把a中的id 当成下标给panes大盒子) => 显示

----- 这里不想被上面对折 如果不用下面的 #### 还有什么方式解决

---------------------------------------------------------
获取表单元素、复选框元素、输入框(用户名、密码)

表单提交事件 阻止默认提交

复选框如果没选 必进if 输出 请阅读协议并同意

如果输入用户名为admin 密码为123456

保存uname和uname的值到本地存储

并跳转到index.html页面

否则提示 账户或密码错误


### register.js逻辑
验证码发送业务

创建一个仅html加载完就执行的事件(DOMContentLoaded)

设置一个开关变量(拿来显示能不能进if逻辑)

为true进if逻辑

设置flag为假(这样在倒计时期间就无法重新进来这个if)

设置一个num

设置这个按钮内容

设置一个间隔函数(一秒执行一次)

num--

设置按钮内容 需要用模板字符串将num放入 显示倒计时效果

当num小于0的时候

清除定时器

设置按钮内容为 重新获取

将开关变量设置为true 这样下次还可以进来if

-------------------------------------------------
用户名验证

获取用户名输入框

用户名输入框 改变事件 函数名不加括号(一直调用 不是就调用一次)

设置一个函数 

设置一个正则大小写26英文字母 6到16位

用正则检查输入框的值后 生成布尔值

if布尔值为真

uname的下面那个盒子 设置为空 不显示东西

返回 true 这个布尔值表示是否允许表单提交

如果布尔值为假 表示没通过正则

设置uname的下面那个盒子为 请输入6-16为用户名

返回 false 这个布尔值表示是否允许表单提交
为false则阻止表单提交

-------------------------------------------------
手机号验证

获取手机号输入框

收集输入框的改变事件 多次调用函数

设置函数

创建正则

用正则检查输入框的值

为真

修改手机号输入框 下面那个盒子的内容 为空(不显示)

返回true

为假

修改手机号输入框 下面那个盒子的内容 为手机号格式错误

返回false

-------------------------------------------------
获取验证码输入框

验证码输入框的改变事件 多次调用

设置函数

创建正则

正则检查输入框值

如果为真

验证码输入框下面的盒子的内容 为空(不显示)

返回true

为假

修改验证码输入框 下面那个盒子的内容 验证码错误

返回false

-------------------------------------------------
获取密码输入框

密码输入框的改变事件 多次调用

设置函数

创建正则

正则检查输入框值

如果为真

密码输入框下面的盒子的内容 为空(不显示)

返回true

为假

修改密码输入框 下面那个盒子的内容 密码需要6-29位数字字母组合

返回false

-------------------------------------------------
获取再次确认输入框

输入框的改变事件 多次调用函数

设置函数

比较再次输入框的值 和 密码输入框 的值是否一致

一致 下面的盒子不显示 返回true

不一致 显示下面盒子 修改其中内容 返回false

-------------------------------------------------
获取已阅读同意业务 单选框

单选框点击事件

切换类名(原本有删除 没有则添加) icon-queren2类

-------------------------------------------------
获取form表单

表单提交事件

阻止默认提交

获取小圆点

小圆点为假必进

if 阻止默认提交 返回弹窗

依次判断 上面函数返回的true false 为假必进(阻止表单提交)



